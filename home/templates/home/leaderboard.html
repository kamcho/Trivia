{% extends 'base.html' %}

{% block title %}Leaderboard - BibleTrivia{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Header -->
    <div class="text-center">
        <h1 class="text-4xl font-bold text-white mb-4">
            <i class="fas fa-trophy text-yellow-400 mr-3"></i>
            Leaderboard
        </h1>
        <p class="text-gray-400 text-lg">Top performing groups and churches</p>
    </div>

    <!-- Top Groups -->
    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700/50">
        <h2 class="text-2xl font-semibold text-white mb-6 flex items-center">
            <i class="fas fa-users text-indigo-400 mr-3"></i>
            Top Groups
        </h2>
        
        {% if top_groups %}
            <div class="space-y-4">
                {% for group in top_groups %}
                <div class="flex items-center justify-between bg-slate-800/30 rounded-lg p-4 border border-slate-700/50 hover:border-slate-600/50 transition-colors">
                    <div class="flex items-center">
                        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg mr-4">
                            {{ forloop.counter }}
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-white">{{ group.name }}</h3>
                            <p class="text-sm text-gray-400">{{ group.church.name }}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-6 text-sm">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-yellow-400">{{ group.average_score|floatformat:1 }}</div>
                            <div class="text-gray-400">Avg Score</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-400">{{ group.wins }}</div>
                            <div class="text-gray-400">Wins</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-400">{{ group.total_competitions }}</div>
                            <div class="text-gray-400">Competitions</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-purple-400">{{ group.win_rate }}%</div>
                            <div class="text-gray-400">Win Rate</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-12">
                <div class="mx-auto h-24 w-24 bg-slate-700/50 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-users text-3xl text-gray-400"></i>
                </div>
                <h3 class="text-lg font-medium text-white mb-2">No groups yet</h3>
                <p class="text-gray-400">Groups will appear here once they start competing</p>
            </div>
        {% endif %}
    </div>

    <!-- Top Churches -->
    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700/50">
        <h2 class="text-2xl font-semibold text-white mb-6 flex items-center">
            <i class="fas fa-church text-indigo-400 mr-3"></i>
            Top Churches
        </h2>
        
        {% if top_churches %}
            <div class="space-y-4">
                {% for church in top_churches %}
                <div class="flex items-center justify-between bg-slate-800/30 rounded-lg p-4 border border-slate-700/50 hover:border-slate-600/50 transition-colors">
                    <div class="flex items-center">
                        <div class="flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-r from-green-500 to-teal-600 flex items-center justify-center text-white font-bold text-lg mr-4">
                            {{ forloop.counter }}
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-white">{{ church.name }}</h3>
                            <p class="text-sm text-gray-400">{{ church.city }}, {{ church.country }}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-6 text-sm">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-yellow-400">{{ church.avg_score|floatformat:1 }}</div>
                            <div class="text-gray-400">Avg Score</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-400">{{ church.total_wins|default:0 }}</div>
                            <div class="text-gray-400">Total Wins</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-400">{{ church.total_competitions|default:0 }}</div>
                            <div class="text-gray-400">Competitions</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-12">
                <div class="mx-auto h-24 w-24 bg-slate-700/50 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-church text-3xl text-gray-400"></i>
                </div>
                <h3 class="text-lg font-medium text-white mb-2">No churches yet</h3>
                <p class="text-gray-400">Churches will appear here once their groups start competing</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}

